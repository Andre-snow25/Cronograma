<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cronograma PC SP 2026</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
body{font-family:system-ui}
.fade{animation:f .3s}
@keyframes f{from{opacity:0}to{opacity:1}}
.tab-active{border-bottom:3px solid #4f46e5;color:#4f46e5}
textarea{resize:vertical;min-height:60px}
</style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen p-4">
<div id="n" class="fixed top-4 right-4 z-50"></div>
<div id="app" class="max-w-7xl mx-auto"></div>
<script>
let e={aba:'plano',dias:[],revs:[],stats:{a:0,d:0,r:0},cron:[],titulos:{}};
const mat={
'Direito Penal â€“ Parte Geral':53,
'Direito Penal â€“ Parte Especial':151,
'Direito Processual Penal':53,
'LegislaÃ§Ã£o Penal Especial':168,
'Direito Constitucional':45,
'Criminologia':52,
'PrincÃ­pios Constitucionais':30,
'Direitos Humanos':48,
'Controle de Constitucionalidade':25,
'Direito Penal Militar':35,
'ExecuÃ§Ã£o Penal':40,
'Tribunal do JÃºri':28,
'Lei de Drogas':20,
'PortuguÃªs':81,
'RaciocÃ­nio LÃ³gico':101,
'RaciocÃ­nio LÃ³gico (MatemÃ¡tico)':80,
'InformÃ¡tica':160,
'InformÃ¡tica (Teoria e ExercÃ­cios)':70,
'MatemÃ¡tica':90
};
function sv(){try{localStorage.setItem('cron2',JSON.stringify(e))}catch{}}
function ld(){try{const s=localStorage.getItem('cron2');if(s)e={...e,...JSON.parse(s)};if(!e.titulos)e.titulos={}}catch{}if(!e.cron.length)gen()}
function gen(){const c=[];let d=1,s=1,m=1;const ordem=[
'Direito Penal â€“ Parte Geral',
'Direito Penal â€“ Parte Especial',
'Direito Processual Penal',
'LegislaÃ§Ã£o Penal Especial',
'Direito Constitucional',
'Criminologia',
'PrincÃ­pios Constitucionais',
'Direitos Humanos',
'Controle de Constitucionalidade',
'Direito Penal Militar',
'ExecuÃ§Ã£o Penal',
'Tribunal do JÃºri',
'Lei de Drogas',
'PortuguÃªs',
'RaciocÃ­nio LÃ³gico',
'RaciocÃ­nio LÃ³gico (MatemÃ¡tico)',
'InformÃ¡tica',
'InformÃ¡tica (Teoria e ExercÃ­cios)',
'MatemÃ¡tica'
];ordem.forEach(ma=>{if(!mat[ma])return;const t=mat[ma];let a=1;while(a<=t){const f=Math.min(a+3,t);c.push({d:d,s:s,m:m,ma:ma,i:a,f:f,q:f-a+1,c:false});a=f+1;d++;if(d%4===1)s++;if(d%16===1&&d>1)m++}});e.cron=c;sv()}
function ntf(msg,tp='ok'){const cor={ok:'bg-green-500',er:'bg-red-500'};const dv=document.createElement('div');dv.className=`${cor[tp]} text-white px-6 py-3 rounded-lg shadow-lg mb-2`;dv.textContent=msg;document.getElementById('n').appendChild(dv);setTimeout(()=>dv.remove(),3000)}
function dt(ds){const h=new Date();h.setDate(h.getDate()+ds);return h.toLocaleDateString('pt-BR')}
function getStatus(dia,completo){if(completo)return 'completo';const hoje=new Date();hoje.setHours(0,0,0,0);const dataInicio=new Date(2026,0,6);const diasPassados=Math.floor((hoje-dataInicio)/(1000*60*60*24));const diaEsperado=Math.ceil(diasPassados/1.75);return dia<=diaEsperado?'atrasado':'pendente'}
function salvarTitulo(dia,val){e.titulos[dia]=val;sv();ntf('ğŸ’¾ TÃ­tulo salvo!')}
function cDia(idx){const d=e.cron[idx];const titulo=e.titulos[d.d]||'';const ds={id:Date.now(),dt:new Date().toLocaleDateString('pt-BR'),ma:d.ma,i:d.i,f:d.f,q:d.q,titulo:titulo};e.dias.push(ds);e.stats.a+=d.q;e.stats.d++;e.cron[idx].c=true;[{t:'7d',ds:7,cor:'amber'},{t:'14d',ds:14,cor:'orange'},{t:'30d',ds:30,cor:'purple'},{t:'60d',ds:60,cor:'blue'}].forEach(r=>{e.revs.push({id:`${ds.id}-${r.t}`,di:ds.id,ma:d.ma,i:d.i,f:d.f,q:d.q,titulo:titulo,dr:dt(r.ds),t:r.t,s:'p',cor:r.cor})});sv();rend();ntf(`ğŸ‰ Dia ${d.d} OK!`)}
function mkR(id){const r=e.revs.find(x=>x.id===id);if(r){r.s='c';e.stats.r++;sv();rend();ntf('âœ… RevisÃ£o OK!')}}
function editData(id){const r=e.revs.find(x=>x.id===id);if(!r)return;const novaData=prompt('ğŸ“… Nova data da revisÃ£o (dd/mm/aaaa):',r.dr);if(novaData&&/^\d{2}\/\d{2}\/\d{4}$/.test(novaData)){r.dr=novaData;sv();rend();ntf('ğŸ“… Data atualizada!')}else if(novaData){ntf('âŒ Formato invÃ¡lido! Use dd/mm/aaaa','er')}}
function exp(){const b=new Blob([JSON.stringify(e,null,2)],{type:'application/json'});const u=URL.createObjectURL(b);const a=document.createElement('a');a.href=u;a.download=`backup-${new Date().toISOString().split('T')[0]}.json`;a.click();URL.revokeObjectURL(u);ntf('ğŸ’¾ Exportado!')}
function imp(ev){const f=ev.target.files[0];if(!f)return;const r=new FileReader();r.onload=x=>{try{e={...e,...JSON.parse(x.target.result)};if(!e.titulos)e.titulos={};sv();rend();ntf('ğŸ“¥ Importado!')}catch{ntf('âŒ Erro','er')}};r.readAsText(f)}
function rst(){if(confirm('âš ï¸ Resetar tudo? FaÃ§a backup antes!')){localStorage.removeItem('cron2');location.reload()}}
function rend(){const pd=e.revs.filter(x=>x.s==='p').length;const ta=Object.values(mat).reduce((s,v)=>s+v,0);const pg=(e.stats.a/ta*100).toFixed(1);const ms=e.cron.reduce((ac,d)=>{if(!ac[d.m])ac[d.m]=[];ac[d.m].push(d);return ac},{});const mn=['Jan','Fev','Mar','Abr','Mai','Jun','Jul','Ago','Set','Out','Nov','Dez'];document.getElementById('app').innerHTML=`
<div class="bg-white rounded-2xl shadow-xl p-6 mb-6">
<div class="flex justify-between items-start gap-4 mb-6 flex-wrap">
<div><h1 class="text-3xl font-bold">ğŸ“š Cronograma PC SP 2026</h1><p class="text-gray-600">Sistema de RevisÃ£o EspaÃ§ada</p></div>
<div class="flex gap-2 flex-wrap">
<button onclick="exp()" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 text-sm font-medium">ğŸ’¾ Exportar</button>
<label class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 text-sm font-medium cursor-pointer">ğŸ“¥ Importar<input type="file" accept=".json" onchange="imp(event)" class="hidden"></label>
<button onclick="rst()" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 text-sm font-medium">ğŸ”„ Resetar</button>
</div></div>
<div class="grid grid-cols-2 md:grid-cols-4 gap-4">
<div class="bg-gradient-to-br from-indigo-100 to-indigo-200 p-4 rounded-xl"><p class="text-sm font-bold text-indigo-900 mb-1">ğŸ“š Aulas</p><p class="text-3xl font-bold text-indigo-700">${e.stats.a}</p><p class="text-xs text-indigo-600">de ${ta}</p></div>
<div class="bg-gradient-to-br from-green-100 to-green-200 p-4 rounded-xl"><p class="text-sm font-bold text-green-900 mb-1">ğŸ“… Dias</p><p class="text-3xl font-bold text-green-700">${e.stats.d}</p><p class="text-xs text-green-600">de ${e.cron.length}</p></div>
<div class="bg-gradient-to-br from-purple-100 to-purple-200 p-4 rounded-xl"><p class="text-sm font-bold text-purple-900 mb-1">ğŸ“Š Progresso</p><p class="text-3xl font-bold text-purple-700">${pg}%</p></div>
<div class="bg-gradient-to-br from-orange-100 to-orange-200 p-4 rounded-xl"><p class="text-sm font-bold text-orange-900 mb-1">ğŸ”” RevisÃµes</p><p class="text-3xl font-bold text-orange-700">${pd}</p><p class="text-xs text-orange-600">${e.stats.r} completas</p></div>
</div></div>
<div class="bg-white rounded-t-2xl shadow-xl">
<div class="flex border-b overflow-x-auto">
<button onclick="e.aba='plano';rend()" class="flex-1 px-6 py-4 font-bold whitespace-nowrap ${e.aba==='plano'?'tab-active':'text-gray-600 hover:text-gray-800'}">ğŸ“‹ Plano</button>
<button onclick="e.aba='revs';rend()" class="flex-1 px-6 py-4 font-bold whitespace-nowrap relative ${e.aba==='revs'?'tab-active':'text-gray-600 hover:text-gray-800'}">ğŸ”„ RevisÃµes${pd>0?`<span class="absolute top-2 right-2 bg-orange-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center animate-pulse">${pd}</span>`:''}</button>
</div></div>
<div class="bg-white rounded-b-2xl shadow-xl p-6 mb-6">
${e.aba==='plano'?`<div><h2 class="text-2xl font-bold mb-4">ğŸ“‹ Plano 2026</h2><p class="text-sm text-gray-600 mb-6 bg-indigo-50 border-2 border-indigo-200 p-3 rounded-lg"><strong>${e.cron.length} dias</strong> â€¢ 4 aulas/dia â€¢ 4 dias/semana</p>${Object.keys(ms).map(m=>{const dm=ms[m];const co=dm.filter(x=>x.c).length;const pr=(co/dm.length*100).toFixed(0);return`<div class="mb-8"><div class="flex justify-between items-center mb-3 flex-wrap gap-2"><h3 class="text-xl font-bold">ğŸ“… ${mn[m-1]} 2026</h3><div class="flex items-center gap-3"><span class="text-sm text-gray-600">${co}/${dm.length}</span><span class="bg-indigo-100 text-indigo-700 px-3 py-1 rounded-lg font-bold">${pr}%</span></div></div><div class="w-full bg-gray-200 rounded-full h-2 mb-4"><div class="bg-gradient-to-r from-indigo-500 to-purple-600 h-2 rounded-full transition-all" style="width:${pr}%"></div></div><div class="grid md:grid-cols-2 gap-3">${dm.map(d=>{const ix=e.cron.findIndex(x=>x.d===d.d&&x.ma===d.ma);const tit=e.titulos[d.d]||'';const status=getStatus(d.d,d.c);const cores={pendente:{border:'border-yellow-300',bg:'bg-yellow-50',btn:'bg-yellow-500 hover:bg-yellow-600'},completo:{border:'border-green-300',bg:'bg-green-50',btn:'bg-green-500'},atrasado:{border:'border-red-300',bg:'bg-red-50',btn:'bg-red-500 hover:bg-red-600'}};const cor=cores[status];return`<div class="border-2 ${cor.border} ${cor.bg} rounded-xl p-4 hover:shadow-lg transition-all"><div class="flex justify-between gap-3 mb-3"><div class="flex-1 min-w-0"><div class="flex gap-2 mb-2 flex-wrap"><span class="bg-indigo-600 text-white px-2 py-1 rounded text-xs font-bold">Dia ${d.d}</span><span class="bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs">Sem ${d.s}</span>${status==='atrasado'?'<span class="bg-red-600 text-white px-2 py-1 rounded text-xs font-bold animate-pulse">âš ï¸ Atrasado</span>':''}</div><h4 class="font-bold text-gray-800 mb-2 ${d.c?'line-through opacity-60':''} break-words">${d.ma}</h4><div class="flex gap-2 text-xs flex-wrap"><span class="bg-blue-100 text-blue-700 px-2 py-1 rounded">ğŸ“š ${d.i}-${d.f}</span><span class="bg-purple-100 text-purple-700 px-2 py-1 rounded font-bold">${d.q} aulas</span></div></div>${!d.c?`<button onclick="cDia(${ix})" class="${cor.btn} text-white px-4 py-2.5 rounded-lg text-sm font-bold whitespace-nowrap flex-shrink-0 shadow-md">âœ… OK</button>`:`<span class="bg-green-500 text-white px-4 py-2.5 rounded-lg text-sm font-bold flex items-center gap-1 whitespace-nowrap flex-shrink-0">âœ“ Feito</span>`}</div><div class="mt-3 pt-3 border-t ${status==='completo'?'border-green-200':'border-gray-200'}"><label class="block text-xs font-bold text-gray-700 mb-1">ğŸ“ TÃ­tulos das aulas:</label><textarea class="w-full border-2 border-gray-300 rounded-lg p-2 text-sm focus:border-indigo-500 focus:outline-none ${d.c?'bg-gray-50 opacity-60':''}" placeholder="Ex: PrincÃ­pios do Direito Penal" onchange="salvarTitulo(${d.d},this.value)" ${d.c?'disabled':''}>${tit}</textarea></div></div>`}).join('')}</div></div>`}).join('')}</div>`:''}
${e.aba==='revs'?`<div><h2 class="text-2xl font-bold mb-4">ğŸ”„ RevisÃµes por Data</h2>${e.revs.length===0?'<div class="text-center py-16 bg-gray-50 rounded-xl"><span class="text-6xl block mb-3">ğŸ”„</span><p class="text-gray-500 text-lg">Nenhuma revisÃ£o ainda</p><p class="text-gray-400 text-sm mt-2">Complete dias no Plano!</p></div>':`<div class="mb-8"><h3 class="text-lg font-bold text-orange-900 mb-4 flex items-center gap-2"><span class="text-2xl">â°</span>Pendentes (${e.revs.filter(x=>x.s==='p').length})</h3>${e.revs.filter(x=>x.s==='p').length===0?'<p class="text-gray-500 text-center py-8 bg-gray-50 rounded-lg">Nenhuma revisÃ£o pendente!</p>':`<div class="space-y-3">${e.revs.filter(x=>x.s==='p').sort((a,b)=>a.dr.split('/').reverse().join('').localeCompare(b.dr.split('/').reverse().join(''))).map(r=>`<div class="border-l-4 border-${r.cor}-500 bg-white rounded-xl p-5 hover:shadow-xl transition-all"><div class="flex flex-col md:flex-row justify-between gap-4"><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><span class="text-2xl">ğŸ“…</span><strong class="text-xl">${r.dr}</strong><button onclick="editData('${r.id}')" class="ml-2 text-xs bg-gray-200 hover:bg-gray-300 text-gray-700 px-2 py-1 rounded" title="Editar data">âœï¸</button></div><h4 class="font-bold text-lg mb-2 break-words">${r.ma}</h4><div class="flex gap-2 flex-wrap text-xs mb-3"><span class="bg-${r.cor}-100 text-${r.cor}-700 px-3 py-1 rounded-lg font-bold">${r.t}</span><span class="bg-indigo-100 text-indigo-700 px-3 py-1 rounded">Aulas ${r.i}-${r.f}</span><span class="bg-gray-100 text-gray-700 px-3 py-1 rounded">${r.q} aulas</span></div>${r.titulo?`<div class="bg-blue-50 border border-blue-200 rounded-lg p-2 mt-2"><p class="text-xs font-bold text-blue-900 mb-1">ğŸ“ TÃ­tulos das aulas:</p><p class="text-sm text-blue-800 whitespace-pre-wrap">${r.titulo}</p></div>`:''}</div><button onclick="mkR('${r.id}')" class="bg-gradient-to-r from-${r.cor}-500 to-${r.cor}-600 text-white px-6 py-3 rounded-lg hover:shadow-lg font-bold whitespace-nowrap flex-shrink-0">âœ“ Revisei</button></div></div>`).join('')}</div>`}</div>${e.revs.filter(x=>x.s==='c').length>0?`<div><h3 class="text-lg font-bold text-green-900 mb-4 flex items-center gap-2"><span class="text-2xl">âœ…</span>Completas (${e.revs.filter(x=>x.s==='c').length})</h3><div class="max-h-80 overflow-y-auto space-y-2">${e.revs.filter(x=>x.s==='c').sort((a,b)=>b.dr.split('/').reverse().join('').localeCompare(a.dr.split('/').reverse().join(''))).map(r=>`<div class="border-l-4 border-green-500 bg-green-50 rounded-xl p-4 opacity-75"><div class="flex items-center gap-2 mb-1"><span>ğŸ“…</span><strong>${r.dr}</strong></div><h4 class="font-bold line-through text-gray-700">${r.ma}</h4><div class="flex gap-2 text-xs mt-2"><span class="bg-gray-100 px-2 py-1 rounded">Aulas ${r.i}-${r.f}</span><span class="bg-green-100 text-green-700 px-2 py-1 rounded">${r.t}</span></div>${r.titulo?`<div class="bg-gray-100 rounded p-2 mt-2 text-xs text-gray-600 whitespace-pre-wrap">${r.titulo}</div>`:''}</div>`).join('')}</div></div>`:''}`}</div>`:''}
</div>
<div class="bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-300 rounded-xl p-6">
<h3 class="font-bold text-blue-900 mb-3 text-lg">ğŸ’¡ Como Funciona</h3>
<div class="grid md:grid-cols-2 gap-4 text-sm text-blue-900">
<div class="bg-white/50 rounded-lg p-3"><p class="font-bold mb-2">ğŸ“‹ Plano:</p><ul class="space-y-1 text-xs"><li>â€¢ ${e.cron.length} dias programados</li><li>â€¢ 4 aulas/dia, 4 dias/semana</li><li>â€¢ Anote os tÃ­tulos das aulas assistidas</li><li>â€¢ Clique "âœ… OK" apÃ³s estudar</li><li>â€¢ 4 revisÃµes geradas automaticamente</li></ul></div>
<div class="bg-white/50 rounded-lg p-3"><p class="font-bold mb-2">ğŸ”„ RevisÃµes:</p><ul class="space-y-1 text-xs"><li>â€¢ ğŸ“… Primeira em 7 dias</li><li>â€¢ ğŸ“… Segunda em 14 dias</li><li>â€¢ ğŸ“… Terceira em 30 dias</li><li>â€¢ ğŸ“… Ãšltima em 60 dias</li><li>â€¢ Os tÃ­tulos aparecem nas revisÃµes!</li></ul></div>
</div>
<p class="mt-3 text-xs text-blue-800 bg-yellow-50 border border-yellow-300 p-2 rounded"><strong>ğŸ’¾ Dica:</strong> FaÃ§a backup regularmente!</p>
</div>
`;
// Adiciona eventos aos textareas apÃ³s renderizaÃ§Ã£o
setTimeout(()=>{document.querySelectorAll('textarea').forEach(ta=>{ta.addEventListener('blur',()=>{const dia=parseInt(ta.getAttribute('data-dia'));if(dia)salvarTitulo(dia,ta.value)})})},100);
}
ld();rend();
</script>
</body>
</html>
